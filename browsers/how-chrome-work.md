# Как работает Chrome?

При загрузке браузер запускает процессы и потоки. Процессы отвечают за выполнения работы всего приложения или какой-то его части. Внутри процесса браузер может запустить потоки, но это не обязательно. Потоки выполняют часть работы процесса.

**Примеры процессов:**

- Browser - отвечает за отображение "хрома" (адресной строки, закладов, кнопок вперёд и назад), так же отвечает за обработку скрытых, привилегированных частей браузера, таких как сетевые запросы и доступ к файловой системе.
- Renderer - контролирует всё внутри вкладки.
- Plugin - контролирует работу плагинов.
- GPU - обрабатывает GPU задачи изолированно от других процессов.

Несколько процессов могут общаться используя Inter Process Communication (IPC).

## Мультипроцессная архитектура

Браузеры имеют мультипроцессную архитектуру.

**Преимущества:**

- При падении одного рендер процесса, перестаёт работать только одна вкладка, а остальные функционируют нормально.
- Безопасность. Операционная система предоставляет возможность ограничивать привилегии процессов, а браузер может поместить процесс в песочницу.

**Недостатки:**

- Требует больше оперативной памяти. Для сохранения памяти Хром имеет лимит одновременно запущенных процессов. Лимит зависит от количества оперативной памяти и мощности процессора. Когда лимит превышен, хром перемещает все вкладки с одним и тем же сайтом в один процесс.

## Сервисы

Разные части браузер разбиты на сервисы. На мощном железу сервисы могут выполняться несколькими процессами, а на слабом железе, группироваться в один процесс.

## Изоляция сайтов

Для каждой вкладки и cross-site iframe создаётся отдельный renderer процесс.

## Ссылки

- [Inside look at modern web browser (part 1)](https://developers.google.com/web/updates/2018/09/inside-browser-part1)
