# Условия и циклы

## Условия

Для удаления и добавления элементов в зависимости от какого-то условия предусмотренны директивы `v-if`, `v-else` и `v-else-if`.

```html
<div v-if="type === 'A'">
  A
</div>
<div v-else-if="type === 'B'">
  B
</div>
<div v-else-if="type === 'C'">
  C
</div>
<div v-else>
  Not A/B/C
</div>
```

Для скрытия и отображения элементов (`display: none`) предусмотрена дериктива `v-show`. Не работает с `<template>` и дерективой `v-else`.

```html
<h1 v-show="ok">Hello!</h1>
```

Когда, что испольховать:

- `v-if` - когда происходит редкое "переключение" и когда нужно что бы удалялся элемени и слушатели событий на нём.
- `v-show` - когда элемент нужно скрыть и нет необходимости пересоздовать.

## Цикл

Для отображения элементов, которые можно прежставить в виде списка (или группы элементов обладающих какими-то общими чертами) существует директива `v-for`, позволяющая итерацию по массиву или объекту.

```html
<ul id="example-1">
  <li v-for="(color, index) in colors">
    <div>{{ index }} - {{ color }}</div>
  </li>
</ul>
```

```js
new Vue({
  el: '#example-1',
  data: {
    colors: ['green', 'blue', 'yellow']
  }
});
```

По объекту:

```html
<ul id="example-1">
  <ul>
    <li v-for="(person, index) in persons">
      <span>[{{ index }}]</span>
      <span v-for="(value, key, i) in person">
        <div>{{ i }} - {{ key }} - {{ value }}</div>
      </span>
    </li>
  </ul>
</ul>
```

```js
new Vue({
  el: '#example-1',
  data: {
    persons: [
      {
        name: 'Alex',
        age: '27',
        sex: 'male'
      },
      {
        name: 'Ann',
        age: '25',
        sex: 'female'
      }
    ]
  }
});
```

По умолчанию алгоритм работы виртуального DOM во Vue определяет какие ноды соответствуют каким данным по индексу. Для того что бы придать элементу специфичность, нужно ему присвоить уникальное значение `key`:

```html
<ul>
  <li v-for="item in items" :key="item.id">...</li>
</ul>
```

Это может быть полезно если нужно:

- Быть уверенным, что все хуки жизненного цикла компонента будут вызваны
- Запускать анимации (например, установленные в transition)

Например:

```html
<transition>
  <span :key="text">{{ text }}</span>
</transition>
```

При изменении text, <span> всегда будет заменяться целиком, что спровоцирует вызов анимации.
