# setState асинхронный метод

`setState` является асинхронным методом, в связи с чем могут возникнуть такие ситуации:

- В промежутке между передачей значения в `setState` и непосредственным его выполнением значение изменилось, в результате чего в `setState` будет новое значение, а не то которое было передано.
- При нескольких последовательных выполнениях `setState`, реакт сгруппирует их вместе и объединит новые состояния. Пример:

  ```js
    ...

    setState(state + 1);
    setState(state + 1);
    setState(state + 1);

    ...

    // Реакт группирует вызовы и определяет результат похожим образом
    Object.assign(
      {},
      firstSetStateResult,
      secondSetStateResult,
      thirdSetStateResult
    );

    ...
  ```

Для того, что бы реакт выполнил изменение состояния в точности с тем значением, которое было передано в `setState`, необходимо передавать функцию вместо значения.
```js
  setState(state => setState(state + 1));
```

## Ссылки

- [React Documentation](https://reactjs.org/docs/react-component.html#setstate)
